<div class="container-main margin-from-navbar">

  <div class="article-top">
    <div class="article-header">

      <div class="header-info-project">
        <p class="header-author"><%= @project.institution_name.upcase %></p>
        <p class="header-date"><%= @project.date.strftime("%-d %B %y") %> to <%= @project.end_date.strftime("%-d %B %y") %></p>
      </div>

      <div class="header-title">
        <div class="d-flex">
          <h1><%= @project.title %></h1>
          <% if current_user && current_user.admin? %>
            <%= link_to  "ðŸ–‹", edit_project_path(@project) %>
          <% end %>
        </div>
        <p style="color: grey;"><%= @project.artists %></p>
      </div>

    </div>

      <% if @project.cover.attached? %>
        <%= cl_image_tag(@project.cover.key) %>
      <% else %>
        <img src="https://source.unsplash.com/random" alt="">
      <% end %>



  </div>


    <p id="project-text"><%= @project.text %></p>

    <div class="masonry-grid">
    <% @project.photos.each do |photo| %>
      <%= cl_image_tag photo.key, class: "grid-item"%>
    <% end %>
  </div>
</div>

<style>
.masonry-grid {
  width: 100%;
}

.grid-item {
  width: 28%; margin: 0 16px 16px 0;
}

/* .masonry-grid {
  /* Masonry container */
  width: 70%;
  margin: 0 auto;
  column-count: 3;
  column-gap: 2rem;
}

.grid-item {
  /* Masonry bricks or child elements */
  display: inline-block;
  margin: 0 0 1rem;
  width: 100%;
} */
</style>

<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script>
  var elem = document.querySelector('.masonry-grid');
  var msnry = new Masonry( elem, {
    // options
    itemSelector: '.grid-item'
  });
</script>
